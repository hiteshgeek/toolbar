// ============================================================================
// TOOLBAR SET INDICATOR
// Pagination dots for switching between tool sets
// ============================================================================
@use "sass:map";
@use "../../variables" as *;
@use "../../mixins" as *;

// ============================================================================
// SET INDICATOR CONTAINER
// ============================================================================
.toolbar__set-indicator {
  @include flex-center;
  gap: 6px;
  padding: 0 8px;
  margin-left: 12px;
  border-left: 1px solid var(--toolbar-border);
  opacity: 0.7;
  transition: opacity map.get($toolbar-animation, duration, fast) ease;

  &:hover {
    opacity: 1;
  }

  // Vertical toolbar
  .toolbar--vertical & {
    border-left: none;
    border-top: 1px solid var(--toolbar-border);
    margin-left: 0;
    margin-top: 12px;
    padding: 8px 0;
  }
}

// ============================================================================
// SET DOT (Individual indicator)
// ============================================================================
.toolbar__set-dot {
  @include reset-button;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--toolbar-text-secondary);
  opacity: 0.4;
  transition: all map.get($toolbar-animation, duration, fast) ease;
  cursor: pointer;
  position: relative;

  &:hover {
    opacity: 0.7;
    transform: scale(1.2);
  }

  &:focus-visible {
    outline: 2px solid var(--toolbar-primary-color);
    outline-offset: 2px;
  }

  // Active dot
  &--active {
    background: var(--toolbar-primary-color);
    opacity: 1;
    transform: scale(1.3);

    &::before {
      content: "";
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 14px;
      height: 14px;
      border: 1px solid var(--toolbar-primary-color);
      border-radius: 50%;
      opacity: 0.3;
      animation: pulse-ring 2s ease-in-out infinite;
    }

    &:hover {
      transform: scale(1.3);
    }
  }
}

// ============================================================================
// ANIMATIONS
// ============================================================================
@keyframes pulse-ring {
  0% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 0.3;
  }
  50% {
    transform: translate(-50%, -50%) scale(1.2);
    opacity: 0.1;
  }
  100% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 0.3;
  }
}

// ============================================================================
// RESPONSIVE ADJUSTMENTS
// ============================================================================
@include respond-to("mobile") {
  .toolbar__set-indicator {
    gap: 4px;
    padding: 0 6px;
    margin-left: 8px;
  }

  .toolbar__set-dot {
    width: 6px;
    height: 6px;

    &--active::before {
      width: 12px;
      height: 12px;
    }
  }
}
